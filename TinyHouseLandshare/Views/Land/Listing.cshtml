@inject SignInManager<UserEntity> signInManager;
@inject UserManager<UserEntity> userManager;
@model LandListingViewModel
@{
    ViewData["Title"] = "Land Listing";
    var userId = (userManager.GetUserId(User) is not null)? new Guid(@userManager.GetUserId(User)): Guid.Empty;
}


<div class="mx-auto max-w-3xl bg-white p-6 drop-shadow-md">
        <img src="~/img/placeholder-image.png" title="Land main image" class="bg-green-50 mx-auto mb-4 rounded-sm border border-gray-200 " />
       

        <p class="font-light">Listed: @Model.CreatedTime.Date.ToString("MMM dd yyyy")</p>
        <h1 class="text-xl font-semibold">@Model.Title.FirstCharToUpper()</h1>
        <p>$@Model.Price.ToString("N0") / @Model.PayPeriod</p>
        <p>@Model.Location, @Model.State, @Model.Country.FirstCharToUpper()</p>
        <p class="">Available: @Model.AvailableDate.Date.ToString("MMM dd yyyy")</p>
        <h1 class="text-xl mt-4 text-green-700">Details</h1>
        <p class="mb-4">@Model.Details</p>

        <p>Land Type: @Model.LandType.FirstCharToUpper()</p>
        <p>House Size: @Model.LotSize</p>
        <p>Foundation Size: @Model.FoundationSize</p>
        <p>Site Foundation: @Model.SiteFoundation.FirstCharToUpper()</p>
        <p>Driveway Foundation: @Model.DrivewayFoundation.FirstCharToUpper()</p>
        <h1 class="text-xl mt-4 text-green-700">Available Amenities</h1>

        <div class="flex flex-row flex-wrap gap-x-4 gap-y-1">


       
        @if (Model.WaterConnection)
        {
            <div>
                <i class="fa-sharp fa-solid fa-circle-check text-green-500"></i>
                Water
            </div>
        }
        @if (Model.ElectricalConnection)
        {
            <div>
                <i class="fa-sharp fa-solid fa-circle-check text-green-500"></i>
                Electrical
            </div>
        }
        @if (Model.WifiConnection)
        {
            <div>
                <i class="fa-sharp fa-solid fa-circle-check text-green-500"></i>
                Internet/Wifi
            </div>
        }
        @if (Model.Pets)
        {
            <div>
                <i class="fa-sharp fa-solid fa-circle-check text-green-500"></i>
                Pets Allowed
            </div>
        }else
        {
            <div>
                <i class="fa-sharp fa-solid fa-circle-xmark text-red-500"></i>
                No Pets
            </div>
        }
        @if (Model.ChildFriendly)
        {
            <div>
                <i class="fa-sharp fa-solid fa-circle-check text-green-500"></i>
                Child Friendly
            </div>
        }
        
        @if (Model.Parking)
        {
            <div>
                <i class="fa-sharp fa-solid fa-circle-check text-green-500"></i>
                Parking
            </div>
        }
        @if (Model.SmokingPermitted)
        {
            <div>
                <i class="fa-sharp fa-solid fa-circle-check text-green-500"></i>
                Smoking permitted
            </div>
        }
        else{
            <div>
                <i class="fa-sharp fa-solid fa-circle-xmark text-red-500"></i>
                No Smoking
            </div>
        }
        
        
    
        <p>Privacy: @Model.Privacy</p>
    </div>

        <div class="flex flex-col mx-4 my-4 p-4 bg-green-50 border border-green-700 rounded-sm  ">
            <h1 class="my-2"cla>Message User Section</h1>
            <textarea class="p-4"></textarea>
            <a class="my-2 px-4 py-2 w-40 text-center bg-green-700 border border-green-700 text-white rounded-sm">Send Message</a>
        </div>
        </div>

        @if (signInManager.IsSignedIn(User))
        {
            <div>
                @await Component.InvokeAsync("InitialMessage", new {UserListingId = Model.UserListingId, SenderId = userId, ReceiverId = Model.ListerId})
            </div>
        }
